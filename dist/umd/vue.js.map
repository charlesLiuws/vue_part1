{"version":3,"file":"vue.js","sources":["../../src/util/index.js","../../src/observer/array.js","../../src/observer/index.js","../../src/state.js","../../src/compiler/index.js","../../src/init.js","../../src/index.js"],"sourcesContent":["//一些公共方法\r\nexport function isObject(data){\r\n    return typeof data === 'object' && data !== null\r\n}","//拷贝数组的原型方法\r\nlet oldArrayProtoMethods = Array.prototype;\r\n//创建一个空对象，将其继承数组的原型对象\r\nlet arrayMethods = Object.create(Array.prototype);\r\n//改造可改变原数组的七种原型方法\r\nlet methods=['push','sort','splice','reverse','pop','shift','unshift'];\r\nmethods.forEach(method=>{\r\n    arrayMethods[method]=function (...args){\r\n        //新增的逻辑\r\n        // console.log('Array is change !');\r\n        let inserted;\r\n        switch (method) {\r\n            case 'push':\r\n            case 'unshift':\r\n                inserted=args;\r\n                break;\r\n            case 'splice':\r\n                inserted=args.slice(2)\r\n            default:\r\n                break;\r\n        }\r\n        if(inserted){\r\n            //对数组里新增的对象进行监听\r\n            this.__ob__.observeArray(inserted);\r\n        }\r\n        //执行原有的数组方法\r\n        return oldArrayProtoMethods[method].call(this,...args);\r\n    }\r\n})\r\nexport {arrayMethods}","import {isObject} from '../util/index'\r\nimport {arrayMethods} from './array'\r\n//把data中的数据都使用object.defineProperty重新定义 属于es5方法(不兼容ie8以及一下版本)\r\nexport function observe(data){\r\n    // console.log(data,'observe');\r\n    let isObj=isObject(data);   //是否为对象\r\n    if(!isObj){\r\n        return;\r\n    }\r\n    if(data.__ob__){\r\n        return;\r\n    }\r\n    return new Observer(data)\r\n}\r\nclass Observer{\r\n    constructor(value){\r\n        Object.defineProperty(value,'__ob__',{\r\n            value:this,\r\n            enumerable:false,\r\n            configurable:false\r\n        })\r\n        if(Array.isArray(value)){\r\n            value.__proto__=arrayMethods;\r\n            // 劫持原有数组里的对象\r\n            this.observeArray(value);\r\n        }else{\r\n            this.walk(value);\r\n        }\r\n    }\r\n    observeArray(value){\r\n        value.forEach(item=>{\r\n            observe(item);\r\n        })\r\n    }\r\n    walk(data){\r\n        Object.keys(data).forEach(key=>{\r\n            defineReactive(data,key,data[key]);\r\n        })\r\n    }\r\n}\r\nfunction defineReactive(data,key,value){\r\n    observe(value); //递归实现深度劫持\r\n    Object.defineProperty(data,key,{\r\n        get(){\r\n            return value;\r\n        },\r\n        set(newValue){\r\n            if(newValue === value){\r\n                return;\r\n            }\r\n            observe(newValue); //继续劫持用户设置的新值（设置对象）\r\n            value=newValue;\r\n        }\r\n    })\r\n}","import {observe} from './observer/index'\r\nexport function initState(Vm){\r\n    const opts=Vm.$options;\r\n    //vue的数据来源：属性 方法 数据 计算属性 watch\r\n    if(opts.props){\r\n        initProps(Vm);\r\n    }\r\n    if(opts.methods){\r\n        initMethods(Vm);\r\n    }\r\n    if(opts.data){\r\n        initData(Vm);\r\n    }\r\n    if(opts.computed){\r\n        initComputed(Vm);\r\n    }\r\n    if(opts.watch){\r\n        initWatch(Vm);\r\n    }\r\n}\r\nfunction initProps(Vm){}\r\nfunction initMethods(Vm){}\r\nfunction proxy(vm,source,key){\r\n    Object.defineProperty(vm,key,{\r\n        get(){\r\n            return vm[source][key]\r\n        },\r\n        set(newValue){\r\n            vm[source][key]=newValue;\r\n        }\r\n    })\r\n}\r\nfunction initData(Vm){\r\n    //数据初始化\r\n    let data=Vm.$options.data;\r\n    data=Vm._data=typeof data === 'function'?data.call(Vm):data;\r\n    Object.keys(data).forEach(key=>{\r\n        proxy(Vm,'_data',key)\r\n    })\r\n    // Object.defineProperty() 给属性增加get方法和set方法\r\n    observe(data); //响应式原理\r\n\r\n}\r\nfunction initComputed(Vm){}\r\nfunction initWatch(Vm){}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;  // aa-aa\r\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;// aa：aa或者aa\r\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 标签开头的正则 捕获的内容是标签名\r\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配标签结尾的 </div>\r\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性的\r\nconst startTagClose = /^\\s*(\\/?)>/; // 匹配标签结束的 >\r\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g // 匹配{{}}\r\nfunction createASTElement(tag,attrs){\r\n    return {\r\n        tag,\r\n        type:1, //标签类型\r\n        children:[],\r\n        attrs,\r\n        parent:null\r\n    }\r\n}\r\nlet root=null;\r\nlet currentParent;  //栈型结构管理所有的标签元素\r\nlet stack = [];\r\nfunction parseHTML(html){\r\n    // 根据开始标签、结束标签、文本内容生成ast语法树\r\n    function start(tagName,attrs){\r\n        let element = createASTElement(tagName,attrs);  //创建ast语法树\r\n        if(!root){\r\n            root=element;\r\n        }\r\n        currentParent=element; //暂存当前元素，便于关联父子关系\r\n        stack.push(element);\r\n        console.log('开始标签：'+tagName);\r\n    }\r\n    function end(tagName){\r\n        let element=stack.pop();\r\n        currentParent=stack[stack.length-1];\r\n        if(currentParent){\r\n            element.parent=currentParent;\r\n            currentParent.children.push(element)\r\n        }\r\n        console.log('结束标签：'+tagName);\r\n    }\r\n    function chars(text){\r\n        text = text.replace(/\\s/g,' ');\r\n        if(text){\r\n            currentParent.children.push({\r\n                type:3,\r\n                text\r\n            })\r\n        }\r\n        console.log('文本'+text)\r\n    }\r\n    //截取html前进\r\n    function advance(n){html = html.substring(n);}\r\n    function parseStarTag(){    //解析标签\r\n        const start = html.match(startTagOpen);\r\n        if(start){\r\n            let match = {\r\n                tagName:start[1],   //目标元素标签\r\n                attrs:[]    //标签属性\r\n            }\r\n            advance(start[0].length);\r\n            let end;let attr;\r\n            while(!(end=html.match(startTagClose)) && (attr=html.match(attribute))){    //开始查找该元素的属性，直到遇到该元素的 > 停止\r\n                advance(attr[0].length);\r\n                match.attrs.push({name:attr[1],value:attr[3] || attr[4] || attr[5]})\r\n            }\r\n            if(end){    //删减 >\r\n                advance(end[0].length);\r\n                return match\r\n            }\r\n            // console.log(match,html);\r\n        }\r\n    }\r\n    while(html){  //循环匹配html,不断截取删减\r\n        let textEnd = html.indexOf('<');    \r\n        if(textEnd == 0){   //以 < 开头,开始解析标签\r\n            let startTagMatch=parseStarTag(); \r\n            if(startTagMatch){\r\n                start(startTagMatch.tagName,startTagMatch.attrs)\r\n                continue;\r\n            }\r\n            let endTagMatch = html.match(endTag);\r\n            if(endTagMatch){    //匹配到的是结束（如</div>）标签时，则删减\r\n                advance(endTagMatch[0].length);\r\n                end(endTagMatch[0]);\r\n                continue;\r\n            }\r\n        }\r\n        let text;\r\n        if(textEnd>0){  //不以 < 开头,开始解析文本\r\n            text=html.substring(0,textEnd);\r\n        }\r\n        if(text){\r\n            advance(text.length);chars(text);\r\n        }\r\n    }\r\n}\r\nexport function compileToFunctions(template){\r\n    console.log(template);\r\n    parseHTML(template);\r\n}","import {initState} from './state'\r\nimport {compileToFunctions} from './compiler/index'\r\n// 在原型上添加一个init方法\r\nexport function initMixin(Vue){\r\n    // 初始化流程\r\n    Vue.prototype._init = function (options) {\r\n        // console.log(options);\r\n        // 数据劫持\r\n        const Vm=this;\r\n        Vm.$options=options;\r\n        //初始化状态\r\n        initState(Vm);\r\n\r\n        if(Vm.$options.el) {\r\n            Vm.$mount(Vm.$options.el)\r\n        }\r\n    }\r\n    Vue.prototype.$mount = function (el) {\r\n        el=document.querySelector(el);\r\n        const vm = this;\r\n        const options = vm.$options;\r\n        //如果有render，就直接使用render\r\n        if(!options.render){            //没有render\r\n            let template = options.template; //找template\r\n            if(!template && el){  //没有template，找el\r\n                template = el.outerHTML;\r\n            }\r\n            const render = compileToFunctions(template);    //统一处理成render\r\n            options.render = render;\r\n        }\r\n    }\r\n}","import {initMixin} from './init'\r\n\r\n// vue核心代码 相当于vue的声明\r\nfunction Vue(options){\r\n    // Vue初始化操作\r\n    this._init(options)\r\n\r\n}\r\n\r\n//通过引入文件方式给vue添加原型方法\r\ninitMixin(Vue);\r\n\r\nexport default Vue;"],"names":["isObject","data","oldArrayProtoMethods","Array","prototype","arrayMethods","Object","create","methods","forEach","method","inserted","args","slice","__ob__","observeArray","call","observe","isObj","Observer","value","defineProperty","enumerable","configurable","isArray","__proto__","walk","item","keys","key","defineReactive","get","set","newValue","initState","Vm","opts","$options","props","initData","computed","watch","proxy","vm","source","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","createASTElement","tag","attrs","type","children","parent","currentParent","stack","parseHTML","html","start","tagName","element","push","console","log","end","pop","length","chars","text","replace","advance","n","substring","parseStarTag","match","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunctions","template","initMixin","Vue","_init","options","el","$mount","document","querySelector","render","outerHTML"],"mappings":"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"}